(window.webpackJsonp=window.webpackJsonp||[]).push([[150],{591:function(t,a,e){"use strict";e.r(a);var s=e(36),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"üèÅ-setup-common-prerequisites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#üèÅ-setup-common-prerequisites"}},[t._v("#")]),t._v(" üèÅ Setup common prerequisites")]),t._v(" "),e("p",[e("strong",[t._v("TABLE OF CONTENTS")]),t._v(":\n")]),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#install-terraform"}},[t._v("Install Terraform")])]),e("li",[e("a",{attrs:{href:"#get-the-deployment-projects-templates"}},[t._v("Get the deployment projects templates")])]),e("li",[e("a",{attrs:{href:"#create-a-new-app-registration-in-azure-active-directory"}},[t._v("Create a new app registration in Azure Active Directory")])]),e("li",[e("a",{attrs:{href:"#next-steps"}},[t._v("Next steps")])])])]),e("p"),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"install-terraform"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-terraform"}},[t._v("#")]),t._v(" Install Terraform")]),t._v(" "),e("p",[t._v("Our deployment projects templates for both Docker and Azure rely on the infrastructure-as-code solution "),e("a",{attrs:{href:"https://www.terraform.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terraform"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),e("p",[t._v("For this tutorial, we assumes you're running a debian-based distro (such as ubuntu), either from a native Linux box, or WSL from Windows.\nFor other platforms, see how to "),e("a",{attrs:{href:"https://learn.hashicorp.com/tutorials/terraform/install-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("install terraform cli"),e("OutboundLink")],1)])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y gnupg software-properties-common "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y gnupg software-properties-common "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v("\n")])])]),e("p",[t._v("Before installing Terraform, ensure that your system is up to date, and you have the gnupg, software-properties-common, and curl packages installed. You will use these packages to verify HashiCorp's GPG signature, and install HashiCorp's Debian package repository.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y gnupg software-properties-common "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -fsSL https://apt.releases.hashicorp.com/gpg "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-key "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -fsSL https://apt.releases.hashicorp.com/gpg "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-key "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -\n")])])]),e("p",[t._v("Add the HashiCorp GPG key.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -fsSL https://apt.releases.hashicorp.com/gpg "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-key "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-add-repository "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deb [arch=amd64] https://apt.releases.hashicorp.com '),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("lsb_release -cs"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(' main"')]),t._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-add-repository "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deb [arch=amd64] https://apt.releases.hashicorp.com '),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("lsb_release -cs"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(' main"')]),t._v("\n")])])]),e("p",[t._v("Add the official HashiCorp Linux repository.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-add-repository "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deb [arch=amd64] https://apt.releases.hashicorp.com '),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("lsb_release -cs"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(' main"')]),t._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" terraform\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" terraform\n")])])]),e("p",[t._v("Update apt to add the repository, and install the Terraform CLI.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" terraform\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("terraform -v\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("terraform -v\n")])])]),e("p",[t._v("Check the installation with:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("terraform -v\n")])])]),e("h2",{attrs:{id:"get-the-deployment-projects-templates"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-the-deployment-projects-templates"}},[t._v("#")]),t._v(" Get the deployment projects templates")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" salestim "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" salestim\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/nboldhq/hosting.git\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ./hosting\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" salestim "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" salestim\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/nboldhq/hosting.git\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ./hosting\n")])])]),e("p",[t._v("To get started quickly, clone locally the nBold "),e("a",{attrs:{href:"https://github.com/nboldhq/hosting",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hosting"),e("OutboundLink")],1),t._v(" repository as a starting point. It has everything you need to boot up your own nBold platform.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" salestim "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" salestim\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/nboldhq/hosting.git\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ./hosting\n")])])]),e("p",[t._v("From this repository, you'll find:")]),t._v(" "),e("ul",[e("li",[t._v("A Terraform project to provision a nBold environment on your own Docker server")]),t._v(" "),e("li",[t._v("Another Terraform project to provision a nBold environment on your own Azure tenant")])]),t._v(" "),e("h2",{attrs:{id:"create-a-new-app-registration-in-azure-active-directory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-a-new-app-registration-in-azure-active-directory"}},[t._v("#")]),t._v(" Create a new app registration in Azure Active Directory")]),t._v(" "),e("p",[t._v("To enable nBold to securely access your Microsoft 365 environment through the Microsoft Graph APIs, the first step is to create a dedicated app registration. An Azure AD app registration identifies a third-party app such as nBold, and defines the permissions you wan to grant to it. To learn more, you can refer to "),e("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-how-applications-are-added",target:"_blank",rel:"noopener noreferrer"}},[t._v("How and why applications are added to Azure AD"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("To create a new app registration, follow these steps:")]),t._v(" "),e("ul",[e("li",[t._v("Open your "),e("a",{attrs:{href:"https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview",target:"_blank",rel:"noopener noreferrer"}},[t._v("Azure Active Directory portal"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("Select "),e("code",[t._v("App registrations")]),t._v(" from the left menu")]),t._v(" "),e("li",[t._v("Click "),e("code",[t._v("New registration")]),t._v(" from the top bar")]),t._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),t._v("Give the app a name:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("nBold\n")])])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("nBold\n")])])]),e("ul",[e("li",[t._v("Select the option "),e("code",[t._v("Accounts in this organizational directory only")]),t._v(", as you want to restrict access to nBold to users from your own tenant.")]),t._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),t._v("Define the web redirection URLs according to your environment:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("https://[WEB_PUBLICURL]/auth/service_account/return_admin_consent\nhttps://[WEB_PUBLICURL]/auth/grant/return\nhttps://[WEB_PUBLICURL]/auth/openid/returnAdminConsent\nhttps://[WEB_PUBLICURL]/auth/openid/return\n")])])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("https://[WEB_PUBLICURL]/auth/service_account/return_admin_consent\nhttps://[WEB_PUBLICURL]/auth/grant/return\nhttps://[WEB_PUBLICURL]/auth/openid/returnAdminConsent\nhttps://[WEB_PUBLICURL]/auth/openid/return\n")])])]),e("ul",[e("li",[t._v("Click "),e("code",[t._v("Register")])]),t._v(" "),e("li",[t._v("From the "),e("code",[t._v("Overview")]),t._v(" menu, copy the "),e("code",[t._v("Application (client) ID")]),t._v(", and "),e("strong",[t._v("keep it as we're gonna reuse it later")]),t._v(".")]),t._v(" "),e("li",[t._v("Open the "),e("code",[t._v("Authentication")]),t._v(" menu")]),t._v(" "),e("li",[t._v("Ensure that the "),e("code",[t._v("Access tokens (used for implicit flows)")]),t._v(" and "),e("code",[t._v("ID tokens (used for implicit and hybrid flows)")]),t._v(" options are checked from the "),e("code",[t._v("Implicit grant and hybrid flows")]),t._v(" section, and save your updates if required.")]),t._v(" "),e("li",[t._v("Open the "),e("code",[t._v("Certificates and secrets")]),t._v(" menu and click "),e("code",[t._v("New client secret")]),t._v(". "),e("strong",[t._v("A client secret is a kind of a password for your app, so manage it carefully")]),t._v(".")]),t._v(" "),e("li",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),t._v("Give a name to your client secret such as:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("nBold client secret\n")])])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("nBold client secret\n")])])]),e("ul",[e("li",[t._v("Select the expiration option, and click "),e("code",[t._v("Add")])]),t._v(" "),e("li",[t._v("Copy the "),e("code",[t._v("Secret Value")]),t._v(" value ("),e("strong",[t._v("be careful, it will only be shown once")]),t._v("), and keep it as we're gonna reuse it later.")])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("Be careful")]),t._v(" "),e("p",[t._v("You should use the "),e("code",[t._v("Secret Value")]),t._v(", not the "),e("code",[t._v("Secret ID")]),t._v("!")])]),t._v(" "),e("ul",[e("li",[t._v("Open the "),e("code",[t._v("API permissions")]),t._v(" from the left menu and click "),e("code",[t._v("Add a permission")]),t._v(" from the top bar")]),t._v(" "),e("li",[t._v("Select "),e("code",[t._v("Microsoft Graph")]),t._v(", then from the permissions list, select the appropriate permissions as described in our "),e("a",{attrs:{href:"../references/permissions"}},[t._v("Permissions References")]),t._v(" documentation.")]),t._v(" "),e("li",[t._v("Click "),e("code",[t._v("Add permissions")])]),t._v(" "),e("li",[t._v("Then click "),e("code",[t._v("Grant admin consent for...")]),t._v(" then "),e("code",[t._v("Yes")])])]),t._v(" "),e("p",[t._v("You're done, you've created your app registration for the nBold app. You should also have saved for later the "),e("code",[t._v("Application (client) ID")]),t._v(" and "),e("code",[t._v("Client secret")]),t._v(" that we're gonna use in the next steps.")]),t._v(" "),e("blockquote",[e("p",[t._v("Congrats! You're now ready to deploy your nBold environment.")])]),t._v(" "),e("h2",{attrs:{id:"next-steps"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#next-steps"}},[t._v("#")]),t._v(" Next steps")]),t._v(" "),e("p",[t._v("Just follow the appropriate guide for your target deployment environment:")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"./docker_deployment"}},[t._v("Docker Deployment")])]),t._v(" "),e("li",[e("a",{attrs:{href:"./azure_deployment"}},[t._v("Azure Deployment")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);